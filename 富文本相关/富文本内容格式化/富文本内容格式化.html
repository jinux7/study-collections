<!DOCTYPE html>
<html>
<head></head>
<body>
  <p style="text-align: center;"><strong>标题</strong></p>
  <p style="text-align: left;">购物商品编辑1.</p>
  <p style="text-align: left;">购物商品编辑1.</p>
  <p style="text-align: left;">购物商品编辑1.</p>
  <p style="text-align: left;">
    <img style="height: 348px;" src="https://avatars2.githubusercontent.com/u/20313228?s=400&u=81b6a332e9a0f8c63e4841766106f3c8f881cfb5&v=4"
    alt="Smiley face" width="400" height="42" />
  </p>
  <p style="text-align: left;">购物商品编辑1.购物商品编辑1.</p>
  <p style="text-align: left;">
    <img style="height: 192px;" src="https://avatars2.githubusercontent.com/u/20313228?s=400&u=81b6a332e9a0f8c63e4841766106f3c8f881cfb5&v=4" 
    alt="Smiley face" width="192" height="42" /></p>
  <p style="text-align: left;">
    <img style="height: auto;" src="https://avatars2.githubusercontent.com/u/20313228?s=400&u=81b6a332e9a0f8c63e4841766106f3c8f881cfb5&v=4" 
      alt="Smiley face" width="82" height="42" /></p>
  <p style="text-align: left;">涛涛涛涛涛涛涛涛涛涛涛涛忒监控任务奖励。</p>
</body>
<script>
var str = `<!DOCTYPE html>
<html>
<head></head>
<body>
  <p style="text-align: center;"><strong>标题</strong></p>
  <p style="text-align: left;">购物商品编辑1.</p>
  <p style="text-align: left;">购物商品编辑2.</p>
  <p style="text-align: left;">购物商品编辑3.</p>
  <p style="text-align: left;">
    <img style="height: 348px;" src="https://avatars2.githubusercontent.com/u/20313228?s=400&u=81b6a332e9a0f8c63e4841766106f3c8f881cfb5&v=4"
    alt="Smiley face" width="400" height="42" />
  </p>
  <p style="text-align: left;">购物商品编辑4.购物商品编辑5.</p>
  <p style="text-align: left;">
    <img style="height: 192px;" src="https://avatars2.githubusercontent.com/u/20313228?s=400&u=81b6a332e9a0f8c63e4841766106f3c8f881cfb5&v=4" 
    alt="Smiley face" width="192" height="42" /></p>
  <p style="text-align: left;">
    <img style="height: auto;" src="https://avatars2.githubusercontent.com/u/20313228?s=400&u=81b6a332e9a0f8c63e4841766106f3c8f881cfb5&v=4" 
      alt="Smiley face" width="82" height="42" /></p>
  <p style="text-align: left;">涛涛涛涛涛涛涛涛涛涛涛涛忒监控任务奖励。</p>
</body>
</html>`;

var nDiv = document.createElement('div');
nDiv.innerHTML = str;
var arr = [];
getTextArr(nDiv);

function getTextArr(node) {
  var nodes = nDiv.getElementsByTagName('*');
  for(let i=0; i<nodes.length; i++) {
    if(nodes[i].children.length === 0) {
      arr.push(nodes[i])
    }
  }
}

var formatArr = arr.map(item=> {
  if(item.localName === 'img') {
    return item.outerHTML;
  }
  return '<p>'+ item.textContent + '</p>';
});
console.log(formatArr);
</script>
</html>